function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./index.DHiLk8iU.js","./entry.HS_113TQ.js","./spring.DFr2K5lH.js","./_plugin-vue_export-helper.DlAUqK2U.js","./spring.BAPisiKm.css","./_commonjsHelpers.CZnAS8i4.js","./ticker.C4A55uCM.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{k as L,_ as G,v as O,o as n,c as _,x as R,r as v,y as I,h as $,F as V,q as P,j as a,n as b,a as l,b as u,z as q,t as z,s as y,A as p,B as A,C as F,D as J,E as Y,w as k,T as C,G as K}from"./entry.HS_113TQ.js";import{_ as X,C as E,u as H,X as Q,e as Z,a as ee}from"./spring.DFr2K5lH.js";import{u as D}from"./state.CXkihiS3.js";import{_ as ae,u as te,a as ne,b as oe,c as se}from"./useTrackEvent.CLXUss66.js";import{C as ie}from"./chevron-right.DuHQ0ZOU.js";import{u as le}from"./index.BetF72dc.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";const de={class:"dkp-gl"},re={__name:"Gl",props:["sceneName"],setup(o){const s=o,{$bus:r}=R();return L(async()=>{{if(window.canvas)window.canvas.$renderer.domElement.style.display="block",window.canvas.props.active=!0;else{const t=await G(()=>import("./index.DHiLk8iU.js").then(e=>e.b9),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url);window.canvas=!0,window.canvas=new t.default({options:{$bus:r,handleReady(){}}}),await window.canvas.ready()}await window.canvas.loadScene(s.sceneName),r.$emit("glReady")}}),O(()=>{window.canvas.clearScene(),window.canvas.props.active=!1,window.canvas.$renderer.domElement.style.display="none"}),(t,e)=>(n(),_("div",de))}},ue=re,ce={class:"line"},me={__name:"SoundWave",setup(o){const{$bus:s}=R(),r=X.range(7),t=D("glAudioReady"),e=v(!1),i=I(()=>t.value&&!e.value);let c=!1;return $(t,()=>{setTimeout(()=>{c=!0},100)}),s.$on("glReady",()=>{window.canvas.landingScene&&(e.value=window.canvas.landingScene.audio.props.muted,t.value&&(c=!0))}),s.$on("glAudioReady",()=>{t.value=!0}),$(e,h=>{window.canvas.landingScene.audio.props.muted=h}),(h,g)=>(n(),_("div",{class:b({soundwave:!0,playing:a(i)}),onClick:g[0]||(g[0]=()=>{a(c)&&(e.value=!a(e))})},[(n(!0),_(V,null,P(a(r),d=>(n(),_("div",ce))),256))],2))}},pe=me,_e={class:"landing-card-content landing-card-content--default"},fe={class:"action-left"},ve={class:"action"},he=l("div",{class:"landing-card-title"},"CDLarp",-1),ge={class:"landing-card-actions"},ye=["disabled"],we={__name:"ContentDefault",props:["handleInfoClick","handleCtaClick","ctaLabel","disabled"],setup(o){const s=v(!1);return $(s,r=>{window.canvas.renderer.props.mode=r?"debug":"normal"}),L(()=>{setTimeout(()=>{window.canvas&&(s.value=window.canvas.renderer.props.mode==="debug")},100)}),(r,t)=>{const e=pe;return n(),_("div",_e,[l("button",{class:"info-button",onClick:t[0]||(t[0]=(...i)=>o.handleInfoClick&&o.handleInfoClick(...i))},"i"),l("div",fe,[u(e)]),l("div",ve,[u(ae,{modelValue:a(s),"onUpdate:modelValue":t[1]||(t[1]=i=>q(s)?s.value=i:null)},null,8,["modelValue"])]),he,l("div",ge,[l("button",{class:"primary",disabled:o.disabled,onClick:t[2]||(t[2]=(...i)=>o.handleCtaClick&&o.handleCtaClick(...i))},[l("div",null,z(o.ctaLabel),1),l("div",null,[o.disabled?p("",!0):(n(),y(a(ie),{key:0,style:{position:"relative",right:"-5px"},size:"18"})),o.disabled?(n(),y(a(E),{key:1,style:{position:"relative",right:"-5px"},size:"18"})):p("",!0)])],8,ye)])])}}},ke=we,Ce={key:0,class:"landig-card-spinner"},be={class:"header-main"},$e={__name:"index",props:{name:{default:""},nameModifiers:{},email:{default:""},emailModifiers:{}},emits:["update:name","update:email"],setup(o){const{$bus:s}=R(),r=v(!1),t=v(!1),e=v("default"),i=v(!1),c=v(!1);s.$on("glReady",()=>{r.value=!0,setTimeout(()=>{t.value=!0},400)});const h=A(o,"name"),g=A(o,"email"),d={default:{layout:{width:280,height:200}},info:{header:{title:()=>"Info"},layout:{width:340,height:480}},register:{header:{title:()=>"Submit a CA",confirm:async()=>{if(Z.validate(g.value)&&h.value.trim()!==""){e.value="loading";try{const m=`firstName=${encodeURIComponent(h.value)}&email=${encodeURIComponent(g.value)}&desktopfm=${encodeURIComponent("true")}`;await fetch("https://app.loops.so/api/newsletter-form/cltoi0h45002z4vya63qpi6o0",{method:"POST",body:m,headers:{"Content-Type":"application/x-www-form-urlencoded"}}),te("Signup"),c.value=!0}catch{e.value="register",i.value=!0,setTimeout(()=>{i.value=!1},500)}}else i.value=!0,setTimeout(()=>{i.value=!1},500)}},layout:{width:280,height:140}},loading:{layout:{width:100,height:100}}},x=F({...d[e.value].layout,y:600}),S=H(x);$(e,m=>{Object.assign(x,d[m].layout),m==="loading"&&setTimeout(()=>{e.value="default"},1e3)});const T=J(),M=I(()=>t.value?e.value==="default"?T.height.value/2-d[e.value].layout.height/2-20:0:T.height.value/2+d[e.value].layout.height);return $(M,m=>{x.y=m},{immediate:!0}),Y("Escape",m=>{e.value="default"}),(m,f)=>{const N=ee,B=ke,U=ne,W=oe,j=se;return n(),_(V,null,[l("div",{class:b({"landing-card-overlay":!0,blur:a(e)!=="default"})},null,2),u(C,{name:"fade"},{default:k(()=>[a(r)?p("",!0):(n(),_("div",Ce,[u(N)]))]),_:1}),a(t)?(n(),_("div",{key:0,class:"landing-card-container",ref:"containerEl",style:K({width:a(S).width+"px",height:a(S).height+"px",transform:`translateY(${a(S).y}px)`})},[l("header",{class:b({"landing-card-header":!0,visible:!!d[a(e)].header})},[l("button",{class:"header-action visible",onClick:f[0]||(f[0]=()=>{e.value="default"})},[u(a(Q),{size:"18",strokeWidth:"3",style:{stroke:"#777"}})]),l("div",be,z(d[a(e)].header&&d[a(e)].header.title()),1),l("button",{class:b({"header-action":!0,visible:d[a(e)].header&&!!d[a(e)].header.confirm}),onClick:f[1]||(f[1]=(...w)=>d[a(e)].header.confirm&&d[a(e)].header.confirm(...w))},[u(a(E),{size:"18",strokeWidth:"3",style:{stroke:"#009942"}})],2)],2),l("div",{class:b({"landing-card":!0,shake:a(i)})},[u(C,{name:"fade"},{default:k(()=>[a(e)==="default"?(n(),y(B,{key:0,handleInfoClick:()=>e.value="info",handleCtaClick:()=>e.value="register",ctaLabel:a(c)?"Sent request, view @CDLarp!":"Submit a CA",disabled:a(c)},null,8,["handleInfoClick","handleCtaClick","ctaLabel","disabled"])):p("",!0)]),_:1}),u(C,{name:"fade"},{default:k(()=>[a(e)==="info"?(n(),y(U,{key:0})):p("",!0)]),_:1}),u(C,{name:"fade"},{default:k(()=>[a(e)==="register"?(n(),y(W,{key:0,name:h.value,"onUpdate:name":f[2]||(f[2]=w=>h.value=w),email:g.value,"onUpdate:email":f[3]||(f[3]=w=>g.value=w),handleSubmit:d.register.header.confirm},null,8,["name","email","handleSubmit"])):p("",!0)]),_:1}),u(C,{name:"fade"},{default:k(()=>[a(e)==="loading"?(n(),y(j,{key:0})):p("",!0)]),_:1})],2)],4)):p("",!0)],64)}}},xe=$e,Se={class:"index"},Ee={__name:"index",setup(o){le({title:"CDLarp.icu",ogTitle:"CDLarp",description:"Scan and analyse AI Larps.",ogDescription:"Scan and analyse AI Larps.",ogImage:"https://CDLarp.icu/desktopfm-og-image.png",twitterCard:"summary_large_image"});const s=v(!1);setTimeout(()=>{s.value=!0},0);const r=D("glAudioReady");return L(()=>{r.value=!1}),(t,e)=>{const i=ue,c=xe;return n(),_("div",Se,[a(s)?(n(),y(i,{key:0,sceneName:"LandingScene"})):p("",!0),u(c)])}}};export{Ee as default};
