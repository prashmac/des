import{_ as h}from"./spring.DFr2K5lH.js";class o{constructor(){this._tickList={default:[]},this._tickListFixed={default:[]},this._labels=["default"],this.remove=this.remove.bind(this),this._defineFunctions()}_defineFunctions(){let t=0;const i=5;this._tickHandler=s=>{const e=s-this._lastMs;this._lastMs=s,this._requestId=window.requestAnimationFrame(this._tickHandler),this.time,t+=e;let c=0;for(;t>=e;){if(c>=10){t=0;break}this._labels.forEach(n=>{this._tickListFixed[n].forEach(r=>r(i/1e3))}),t-=i,c++}this._labels.forEach(n=>{this._tickList[n].forEach(r=>r(e/1e3))})}}get time(){return performance.now()}_start(){this.running=!0,this._lastMs=this.time,this._requestId=window.requestAnimationFrame(this._tickHandler)}_stop(){this.running=!1,window.cancelAnimationFrame(this._requestId)}add(t,i="default"){if(this.running||this._start(),!this._tickList[i]){console.warn("Label does not Exist");return}this._tickList[i].push(t)}addFixed(t,i="default"){if(this.running||this._start(),!this._tickList[i]){console.warn("Label does not Exist");return}this._tickListFixed[i].push(t)}remove(t,i="default"){if(!this._tickList[i]){console.warn("Label does not Exist");return}const s=this._tickList[i].indexOf(t);s>=0&&this._tickList[i].splice(s,1)}removeFixed(t,i="default"){if(!this._tickListFixed[i]){console.warn("Label does not Exist");return}const s=this._tickListFixed[i].indexOf(t);s>=0&&this._tickListFixed[i].splice(s,1)}removeAll(){this._tickList=h.mapObject(this._tickList,()=>[]),this._tickListFixed=h.mapObject(this._tickListFixed,()=>[])}once(t,i="default"){const s=e=>{t(e),this.remove(s,i)};this.add(s,i)}addLabel(t){if(this._tickList[t]){console.warn("Label Already Exists");return}this._labels.push(t),this._tickList[t]=[],this._tickListFixed[t]=[]}}const d=new o,u=d;export{u as T,o as a};
